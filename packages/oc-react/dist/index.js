module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=o.a.createContext(!1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,s(t).call(this,e))).state={elements:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o.a.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"createContext",value:function(){var e=this,t=this.props,n=t.clientOc,r=t.baseUrl,o=t.lang,i=t.prefetchedComponents,u=void 0===i?{}:i;return{oc:n,baseUrl:r,lang:o,getElements:function(t){return e.state.elements[t]},getHtml:function(e){return u[e]},saveElements:function(t,n){e.state.elements[t]=n}}}},{key:"render",value:function(){return o.a.createElement(i.Provider,{value:this.createContext()},this.props.children)}}]),t}();function p(e){return{__html:e||""}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,b(t).call(this,e))).ref=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.className,u=t.prefetchKey;t.captureAs;if(!u)throw new Error("Mandatory prop 'prefetchKey' was not provided.");return o.a.createElement(i.Consumer,null,function(t){if(!t)throw new Error("OpenComponent.Prefetched must be nested within a <ComponentContext />");e.oc=t.oc,e.saveElements=t.saveElements,e.capturedElements=e.props.captureAs&&t.getElements(e.props.captureAs),e.html=e.capturedElements?"":t.getHtml(u),void 0===e.html&&(e.html=e.props.fallback||"");var i=p(e.html);return o.a.createElement("div",{ref:e.ref,id:n,className:r,dangerouslySetInnerHTML:i,suppressHydrationWarning:!0})})}},{key:"componentDidMount",value:function(){var e=this;if(this.capturedElements){this.ref.current.innerHTML="";for(var t=0;t<this.capturedElements.length;t++){var n=this.capturedElements[t];this.ref.current.appendChild(n)}delete this.capturedElements}else{var r=this.ref.current;if(r)if(this.props.captureAs&&this.saveElements(this.props.captureAs,h(r.childNodes)),1===r.childNodes.length&&r.childNodes[0].tagName&&"oc-component"===r.childNodes[0].tagName.toLowerCase()&&"true"!==r.childNodes[0].getAttribute("data-rendered")){var o=this.oc.$(r.childNodes[0]);this.oc.renderNestedComponent(o,function(){e.props.captureAs&&e.saveElements(e.props.captureAs,h(r.childNodes))})}}}}]),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,_(t).call(this,e))).ref=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,o.a.Component),function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.className,u=t.name,a=t.parameters,c=t.version;if(!u)throw new Error("Mandatory prop 'name' is missing.");return o.a.createElement(i.Consumer,null,function(t){if(!t)throw new Error("OpenComponent must be nested within a <ComponentContext />");e.oc=t.oc,e.saveElements=t.saveElements;var i=e.baseUrl=t.baseUrl,s=e.lang=e.props.lang||t.lang;e.capturedElements=e.props.captureAs&&t.getElements(e.props.captureAs);var l=p(e.oc?e.oc.build({baseUrl:i,name:u,version:c,lang:s,parameters:a}):"");return o.a.createElement("div",{ref:e.ref,id:n,className:r,dangerouslySetInnerHTML:l,suppressHydrationWarning:!0})})}},{key:"componentDidMount",value:function(){var e=this;if(!this.oc)throw new Error("clientOc not defined. You must provide the oc library to <OpenComponentsContext> on the client-side");if(!this.baseUrl)throw new Error("<OpenComponentsContext> must have a defined 'baseUrl' prop to use this component.");if(this.capturedElements){this.ref.current.innerHTML="";for(var t=0;t<this.capturedElements.length;t++){var n=this.capturedElements[t];this.ref.current.appendChild(n)}delete this.capturedElements}else{if(""===this.ref.current.innerHTML){var r=this.props,o=r.name,i=r.version,u=r.parameters,a=this.baseUrl,c=this.lang;this.ref.current.innerHTML=this.oc.build({baseUrl:a,name:o,version:i,lang:c,parameters:u})}var s=this.ref.current;if(1===s.childNodes.length&&"oc-component"===s.childNodes[0].tagName.toLowerCase()){var l=s.childNodes[0],f=this.oc.$(l);this.oc.renderNestedComponent(f,function(){e.props.captureAs&&e.saveElements(e.props.captureAs,[l])})}}}}]),t}();C.Prefetched=g,n.d(t,"OpenComponentsContext",function(){return f}),n.d(t,"OpenComponent",function(){return C})}]);